<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="src/css/dendrogram.css">
        <link rel="stylesheet" type="text/css" href="src/css/expressMap.css">
        <link href="https://fonts.googleapis.com/css?family=EB+Garamond|Libre+Franklin|Open+Sans|Roboto|Zilla+Slab" rel="stylesheet">        <link rel="stylesheet" type="text/css" href="build/external/select2-4.0.4/css/select2.min.css">
        <style>
            body {
                font-family: 'Open Sans', sans-serif;
            }
            div{
                font-size: 12px;
            }
            .btn-default {
                border-color: #4eb3d3;
            }
            a {
                color: #4eb3d3;
            }
            .link:hover {
                text-decoration: underline;
                cursor: pointer;
            }

        </style>
    </head>

    <body class="container-fluid" style="margin-top:20px;">
        <div id="downloadTempDiv" style="display:none;"></div> <!-- a hidden div for svg download, a temp solution-->
        <div id="tooltip" class="exp-map-tooltip"></div> <!--a hidden div for the mouseover tooltip-->

        <div>
            <h4>Top Expressed Genes</h4>
        </div>
        <!--mayo data set-->
        <div id="external-datasets">
            <ul>
                <li id="dataset2" class="link">Mayo cerebellum AD.</li>
            </ul>
        </div>

        <!-- the tissue menu -->
        <div class="row">
            <div class="col-xs-12 col-md-6 col-lg-4">
                <form>
                    <div class="form-group">
                         <select id="datasetSelector" name="datasetSelector" class="form-control">
                             <option></option>
                         </select>
                    </div>
                </form>
            </div>
            <div class="col-xs-12 col-md-6">
                <i id="spinner" class="fas fa-sync fa-spin" style="display:none;"></i>

            </div>
        </div>
        <div id="messageBox" style="color:#4eb3d3;"></div>
        <div id="expMapToolbar" style="display:none;"></div> <!-- the toolbar Div -->
        <div id="chart"></div> <!-- the heatmap Div -->
        <div id="boxplot"></div> <!-- the boxplot DIV -->

    </body>
    <script defer src="build/external/fontawesome-free-5.0.7/svg-with-js/js/fontawesome-all.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.2.1.min.js"
      integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
      crossorigin="anonymous">
    </script>
    <script src="src/scripts/external/plotly-latest.min.js"></script>
    <script src="build/external/select2-4.0.4/js/select2.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
    <script src="build/external/FileSaver/FileSaver.min.js"></script>
    <script src="build/js/batch-gene-expression.bundle.dev.js"></script>
    <script>
        $(document).ready(function(){
            BatchGeneExpression.createDatasetMenu("datasetSelector");
        });
        $("#datasetSelector").change(function(){
            const tissueId = $(this).val();
            BatchGeneExpression.renderTopExpressed(tissueId, "chart", "expMapToolbar", "messageBox");
        });

        // mayo
        $("#dataset2").click(function(){
            BatchGeneExpression.renderMayo("chart", "expMapToolbar", "messageBox");
        });


    </script>

</html>